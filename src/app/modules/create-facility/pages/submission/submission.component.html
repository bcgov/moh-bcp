<common-page-framework layout='blank'>

  <common-confirm-template [displayIcon]="displayIcon">

    <div class="print-hide" confirmationTitle>
      <ng-container *ngTemplateOutlet="confirmTitle"></ng-container>
    </div>

    <div message>
      <ng-container *ngTemplateOutlet="confirmMessage"></ng-container>
    </div>

    <div AdditionalInfo>

      <div class="print-hide" *ngIf='!isError'>
        <h2 class="border-bottom"><strong>Next Steps</strong></h2>
        <common-page-section layout='noTips'>
          <ul>
            <li>Print this page for your records</li>
            <li>You will recieve a letter with your Facility Number</li>
            <li>Registration practitioners, complete with practitioner assignment to Medical Services Plan facility for Business Cost Premium form.</li>
          </ul>
        </common-page-section>
      </div>

      <div class="print-only my-4">
        <p>This application form is for new applicants who do not have a valid MSP facility number.</p>
        <p>
          All information on this form must be authorized by the responsible principle practitioner of the facility
          (the "Applicant"). If there are any changes to this submission after it has been received, a new form must be
          completed and authorized by the Applicant.
        </p>
      </div>

      <!-- Prinable section should have same contents as Review page -->
      <div class="print-only">

        <bcp-review-applicant></bcp-review-applicant>
        <bcp-review-facility></bcp-review-facility>
        <bcp-review-facility-mailing-info></bcp-review-facility-mailing-info>
        <bcp-review-facility-bcp></bcp-review-facility-bcp>

        <div class="print-page-break"></div>

        <common-header [serviceName]='title' urlBaseName='bcp'></common-header>

        <common-confirm-template [displayIcon]="displayIcon">

          <div message>
            <ng-container *ngTemplateOutlet="confirmMessage"></ng-container>
          </div>
        </common-confirm-template>

        <h2 class='border-bottom'>Declaration</h2>
        <p class="font-italic" [innerHtml]='declarationText'></p>

        <img [src]='signature' alt='Signature'>

        <div class="row print-review-row">
          <div class='col-6 review-key'>Date signed</div>
          <div class="col-6 review-value">{{ dateOfAcceptance }}</div>
        </div>

        <div class="pt-4" [innerHTML]='privacyStatement'></div>
      </div>

    </div>

  </common-confirm-template>


</common-page-framework>


<ng-template #confirmTitle>
  <button *ngIf="!isError" (click)="print($event)" class="btn btn-clear float-right print-hide">
    <strong>Print
      <i class="fa fa-print fa-lg"
        aria-hidden="true"></i>
    </strong>
  </button>
  <h1 class='border-bottom'>{{pageTitle}}</h1>
</ng-template>

<ng-template #confirmMessage>

  <h2 class='mt-0 p-2 text-dark'>{{confirmationMessage}}</h2>

  <div *ngIf="!isError" class="row">
    <div class='col-6 review-key'>Date of Submission</div>
    <div class="col-6 review-value">{{submissionDate}}</div>

    <div class='col-6 review-key'>Reference Number</div>
    <div class="col-6 review-value">{{referenceNumber}}</div>

    <div class='col-6 review-key'>Facility Number</div>
    <div class="col-6 review-value {{isUnderReview ? 'text-primary' : ''}} "> {{facilityNumberText}} </div>
  </div>
</ng-template>
